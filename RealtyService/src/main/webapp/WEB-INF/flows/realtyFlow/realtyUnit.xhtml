<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

	<p:commandButton id="add" value="Add criteria" type="button" />

<!-- Realty types menu -->
	<p:slideMenu overlay="true" trigger="dynaButton" my="left top"
		at="left bottom" style="width:180px">
		<p:submenu label="Ajax Menuitems">
			<p:menuitem value="Save" update="messages" icon="ui-icon-disk" />
			<p:menuitem value="Update" update="messages"
				icon="ui-icon-arrowrefresh-1-w" />
		</p:submenu>
		<p:submenu label="Non-Ajax Menuitem">
			<p:menuitem value="Delete" ajax="false" icon="ui-icon-close" />
		</p:submenu>
		<p:submenu label="Navigations" icon="ui-icon-extlink">
			<p:submenu label="Prime Links">
				<p:menuitem value="Prime" url="http://www.prime.com.tr" />
				<p:menuitem value="PrimeFaces" url="http://www.primefaces.org" />
			</p:submenu>
			<p:menuitem value="Mobile" outcome="/mobile/index" />
		</p:submenu>
	</p:slideMenu>

	<p:dataTable id="criteriaTable" value="realtyWizard.criteriaList"
		var="criteria">

		<p:column style="width:4%">
			<p:commandButton id="selectButton" title="View">
				<f:setPropertyActionListener value="#{criteria}"
					target="#{tableBean.selectedCriteria}" />
			</p:commandButton>
		</p:column>

		<p:column style="width:4%">
			<p:commandButton id="dynaButton" value="Show" type="button" />
		</p:column>

		<p:column headerText="Type" style="width:24%">
			<h:outputText value="#{criteria.realtyType}" />
		</p:column>
	</p:dataTable>

	<p:panel header="Realty Search Criteria">
		<h:messages errorClass="error" />
		<p:commandButton value="Add criteria" action="addCriteria"></p:commandButton>
		<h:panelGrid id="criteriaGrid" columns="2"
			columnClasses="label, value" styleClass="grid">
			<h:outputText value="Grouping: " />
			<p:selectOneMenu value="#{realtyWizard.realtyType}">
				<f:selectItem itemLabel="Choose Criteria" itemValue="" />
				<f:selectItems value="#{realtyWizard.realtyTypeList}" />

				<p:ajax update="switch" process="@this" />
			</p:selectOneMenu>
			<p:separator />

			<pe:switch id="switch" value="#{realtyWizard.realtyType}">
				<pe:defaultCase>  
        			Case: Default
    			</pe:defaultCase>

				<pe:case value="Room">
					<p:commandButton id="case1button" value="This is room" />
				</pe:case>

				<pe:case value="Appartment">
					<p:selectOneMenu>
						<f:selectItem itemLabel="Choose Appartment Type" itemValue="" />
					</p:selectOneMenu>
				</pe:case>
			</pe:switch>
		</h:panelGrid>
	</p:panel>
</ui:composition>
